{%- extends "base.html" %}

{% import "bootstrap/utils.html" as utils %}

{% block content %}
  <div class="container">
    {%- with messages = get_flashed_messages(with_categories=True) %}
    {%- if messages %}
      <div class="row">
        <div class="col-md-12">
          {{utils.flashed_messages(messages)}}
        </div>
      </div>
    {%- endif %}
    {%- endwith %}

    <h1>
      {{ course.subject }} {{ course.code }}:
      {{ course.most_recent_name() }}
    </h1>

    <table class="table table-condensed table-hover table-striped">
      <thead>
        <th></th>
        <th>From</th>
        <th>To</th>
        <th>Title</th>
        <th>Cred</th>
        <th>Lect</th>
        <th>Labs</th>
        <th>Comments</th>
        <th>Other</th>
        <th></th>
      </thead>

      <tbody>
        {%- for gen in generations %}
          <form method="POST" action="/course/{{ course.id }}"/>
            <tr>
              {{ gen.hidden_tag() }}
              <td>
                <a href="/course/generation/{{ gen.id.data }}">&#x1F50E;</a>
              </td>
              <td>{{ gen.start_year(style = "width: 3em") }}</td>
              <td>{{ gen.end_year(style = "width: 3em") }}</td>
              <td>{{ gen.title(style = "width: 15em") }}</td>
              <td>{{ gen.credit_hours(style = "width: 2em") }}</td>
              <td>{{ gen.lecture_hours(style = "width: 2em") }}</td>
              <td>{{ gen.lab_hours(style = "width: 2em") }}</td>
              <td>{{ gen.description(rows = "5", style = "width: 20em") }}</td>
              <td>{{ gen.other_info }}</td>
              <td>{{ gen.submit }}</td>
            </tr>
          </form>
        {%- endfor %}
      </tbody>
    </table>
  </div>
{%- endblock %}
